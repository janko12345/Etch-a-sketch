<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Document</title>
</head>
<body>

    <button id="clear-btn">Clear</button>
    
    <div id="main-grid-container">
        
    </div>


    <script>

        let gridSize = 16;
    

        const clrBtn = document.querySelector("#clear-btn");
        const gridContainer = document.querySelector("#main-grid-container");
        

        createGrid(gridSize);
        clrBtn.addEventListener("click", recreateGridByUser);

        
        



        //function section

        function createGrid(size){

            for (let i = 0; i < size * size; i++)
            {
                const divGridElement = document.createElement("div");
                divGridElement.addEventListener("mouseover",e =>
                {
                    let red = Math.floor(Math.random()*256);
                    let green = Math.floor(Math.random()*256);
                    let blue = Math.floor(Math.random()*256);
                    e.target.style.backgroundColor = `rgb(${red},${green},${blue})`;
                }
                );
                gridContainer.appendChild(divGridElement);
                    
            }
            gridContainer.style.gridTemplateColumns = `repeat(${size},1fr)`;
            gridContainer.style.gridTemplateRows = `repeat(${size},1fr)`;
        }

        function removeGrid(){

            gridContainer.innerHTML = "";

        }

        function recreateGridByUser(){
            let usersGridSize = prompt("enter the number which will define the size of 2D grid") * 1;
            
            while(isNaN(usersGridSize) || usersGridSize < 1 || usersGridSize % 1 !== 0)
                usersGridSize = prompt("Invalid value. Value must be positive integer bigger than 0") * 1;
            

            removeGrid();
            createGrid(usersGridSize);
        }

    </script>

</body>
</html>